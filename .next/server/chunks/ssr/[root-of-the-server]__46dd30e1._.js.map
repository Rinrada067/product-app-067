{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///D:/next-project067/product-app-067/app/page.tsx"],"sourcesContent":["\"use client\"\r\nimport Link from \"next/link\"\r\nimport { useSession, signOut } from \"next-auth/react\"\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport { usePathname } from \"next/navigation\"\r\n\r\nexport default function Navbar() {\r\n  const { data: session } = useSession()\r\n  const [open, setOpen] = useState(false)\r\n  const menuRef = useRef<HTMLDivElement | null>(null)\r\n  const btnRef = useRef<HTMLButtonElement | null>(null)\r\n  const pathname = usePathname()\r\n\r\n  // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ô‡∏≠‡∏Å dropdown\r\n  useEffect(() => {\r\n    function onClickOutside(e: MouseEvent) {\r\n      if (!open) return\r\n      const t = e.target as Node\r\n      if (menuRef.current?.contains(t) || btnRef.current?.contains(t)) return\r\n      setOpen(false)\r\n    }\r\n    window.addEventListener(\"mousedown\", onClickOutside)\r\n    return () => window.removeEventListener(\"mousedown\", onClickOutside)\r\n  }, [open])\r\n\r\n  // ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î Esc\r\n  useEffect(() => {\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === \"Escape\") setOpen(false)\r\n    }\r\n    window.addEventListener(\"keydown\", onKey)\r\n    return () => window.removeEventListener(\"keydown\", onKey)\r\n  }, [])\r\n\r\n  // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏¥‡∏î dropdown\r\n  useEffect(() => {\r\n    if (open) setOpen(false)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [pathname])\r\n\r\n  return (\r\n    <header className=\"w-full bg-white shadow\">\r\n      <div className=\"max-w-6xl mx-auto flex items-center justify-between px-6 py-3\">\r\n        {/* ‡πÇ‡∏•‡πÇ‡∏Å‡πâ */}\r\n        <Link href=\"/\" className=\"text-xl font-bold text-red-700\">\r\n          ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\r\n        </Link>\r\n\r\n        {/* ‡πÄ‡∏°‡∏ô‡∏π‡∏Å‡∏•‡∏≤‡∏á */}\r\n        <nav className=\"hidden md:flex gap-4\">\r\n          <Link href=\"/products\" className=\"px-3 py-2 rounded hover:bg-gray-100\">\r\n            ‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\r\n          </Link>\r\n          <Link href=\"/products/new\" className=\"px-3 py-2 rounded hover:bg-gray-100\">\r\n            ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà\r\n          </Link>\r\n        </nav>\r\n\r\n        {/* ‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏Ç‡∏ß‡∏≤ */}\r\n        <div className=\"flex items-center gap-3 relative\">\r\n          {!session ? (\r\n            <>\r\n              <Link\r\n                href=\"/login\"\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition\"\r\n              >\r\n                ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö\r\n              </Link>\r\n              <Link\r\n                href=\"/register\"\r\n                className=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition\"\r\n              >\r\n                ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô\r\n              </Link>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <button\r\n                ref={btnRef}\r\n                onClick={() => setOpen((v) => !v)}\r\n                className=\"flex items-center focus:outline-none\"\r\n                aria-haspopup=\"menu\"\r\n                aria-expanded={open}\r\n                aria-label=\"‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏°‡∏ô‡∏π‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ\"\r\n              >\r\n                <span className=\"text-2xl\">üë§</span>\r\n              </button>\r\n\r\n              {open && (\r\n                <div\r\n                  ref={menuRef}\r\n                  role=\"menu\"\r\n                  className=\"absolute right-0 top-12 w-56 bg-white shadow-lg rounded-md border overflow-hidden\"\r\n                >\r\n                  <div className=\"px-4 py-2 text-sm text-gray-600 border-b\">\r\n                    <div className=\"font-semibold\">{session.user.username}</div>\r\n                    <div className=\"text-gray-500\">role: {session.user.role}</div>\r\n                  </div>\r\n\r\n                  <Link\r\n                    href=\"/dashboard\"\r\n                    role=\"menuitem\"\r\n                    className=\"block px-4 py-2 hover:bg-gray-100 text-sm\"\r\n                  >\r\n                    ‡πÅ‡∏î‡∏ä‡∏ö‡∏≠‡∏£‡πå‡∏î\r\n                  </Link>\r\n\r\n                  <Link\r\n                    href=\"/profile\"\r\n                    role=\"menuitem\"\r\n                    className=\"block px-4 py-2 hover:bg-gray-100 text-sm\"\r\n                  >\r\n                    ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå / ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô\r\n                  </Link>\r\n\r\n                  {session.user.role === \"admin\" && (\r\n                    <Link\r\n                      href=\"/admin/users\"\r\n                      role=\"menuitem\"\r\n                      className=\"block px-4 py-2 hover:bg-gray-100 text-sm\"\r\n                    >\r\n                      ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (Admin)\r\n                    </Link>\r\n                  )}\r\n\r\n                  <button\r\n                    role=\"menuitem\"\r\n                    onClick={() => signOut({ callbackUrl: \"/\" })}\r\n                    className=\"w-full text-left px-4 py-2 hover:bg-gray-100 text-sm\"\r\n                  >\r\n                    ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ‡πÄ‡∏°‡∏ô‡∏π‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */}\r\n      <div className=\"md:hidden px-6 pb-3 flex gap-2\">\r\n        <Link href=\"/products\" className=\"px-3 py-2 rounded hover:bg-gray-100\">\r\n          ‡∏î‡∏π‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤\r\n        </Link>\r\n        <Link href=\"/products/new\" className=\"px-3 py-2 rounded hover:bg-gray-100\">\r\n          ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà\r\n        </Link>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}