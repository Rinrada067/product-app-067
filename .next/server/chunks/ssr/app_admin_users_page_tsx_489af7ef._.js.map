{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///D:/next-project067/product-app-067/app/admin/users/page.tsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useState } from \"react\"\r\n\r\nexport default function AdminUsersPage() {\r\n  const [users, setUsers] = useState<any[]>([])\r\n\r\n  async function loadUsers() {\r\n    const res = await fetch(\"/api/admin/users\")\r\n    if (res.ok) setUsers(await res.json())\r\n  }\r\n\r\n  useEffect(() => { loadUsers() }, [])\r\n\r\n  async function changeRole(id: string, role: string) {\r\n    await fetch(`/api/admin/users/${id}`, {\r\n      method: \"PATCH\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ role }),\r\n    })\r\n    loadUsers()\r\n  }\r\n\r\n  async function deleteUser(id: string) {\r\n    await fetch(`/api/admin/users/${id}`, { method: \"DELETE\" })\r\n    loadUsers()\r\n  }\r\n\r\n  return (\r\n    <main className=\"max-w-3xl mx-auto p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">จัดการผู้ใช้</h1>\r\n      <table className=\"w-full border\">\r\n        <thead className=\"bg-gray-100\">\r\n          <tr>\r\n            <th className=\"p-2 border\">Username</th>\r\n            <th className=\"p-2 border\">Role</th>\r\n            <th className=\"p-2 border\">Action</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map(u => (\r\n            <tr key={u.id}>\r\n              <td className=\"p-2 border\">{u.username}</td>\r\n              <td className=\"p-2 border\">{u.role}</td>\r\n              <td className=\"p-2 border\">\r\n                <button onClick={() => changeRole(u.id, u.role === \"admin\" ? \"user\" : \"admin\")} className=\"btn bg-blue-500 text-white mr-2\">เปลี่ยน Role</button>\r\n                <button onClick={() => deleteUser(u.id)} className=\"btn bg-red-500 text-white\">ลบ</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </main>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AADA;;;AAGe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAE5C,eAAe;QACb,MAAM,MAAM,MAAM,MAAM;QACxB,IAAI,IAAI,EAAE,EAAE,SAAS,MAAM,IAAI,IAAI;IACrC;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QAAQ;IAAY,GAAG,EAAE;IAEnC,eAAe,WAAW,EAAU,EAAE,IAAY;QAChD,MAAM,MAAM,CAAC,iBAAiB,EAAE,IAAI,EAAE;YACpC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAK;QAC9B;QACA;IACF;IAEA,eAAe,WAAW,EAAU;QAClC,MAAM,MAAM,CAAC,iBAAiB,EAAE,IAAI,EAAE;YAAE,QAAQ;QAAS;QACzD;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,8OAAC;gBAAM,WAAU;;kCACf,8OAAC;wBAAM,WAAU;kCACf,cAAA,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAa;;;;;;8CAC3B,8OAAC;oCAAG,WAAU;8CAAa;;;;;;8CAC3B,8OAAC;oCAAG,WAAU;8CAAa;;;;;;;;;;;;;;;;;kCAG/B,8OAAC;kCACE,MAAM,GAAG,CAAC,CAAA,kBACT,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAc,EAAE,QAAQ;;;;;;kDACtC,8OAAC;wCAAG,WAAU;kDAAc,EAAE,IAAI;;;;;;kDAClC,8OAAC;wCAAG,WAAU;;0DACZ,8OAAC;gDAAO,SAAS,IAAM,WAAW,EAAE,EAAE,EAAE,EAAE,IAAI,KAAK,UAAU,SAAS;gDAAU,WAAU;0DAAkC;;;;;;0DAC5H,8OAAC;gDAAO,SAAS,IAAM,WAAW,EAAE,EAAE;gDAAG,WAAU;0DAA4B;;;;;;;;;;;;;+BAL1E,EAAE,EAAE;;;;;;;;;;;;;;;;;;;;;;AAazB","debugId":null}}]
}