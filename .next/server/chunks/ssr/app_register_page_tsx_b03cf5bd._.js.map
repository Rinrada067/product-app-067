{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["file:///D:/next-project067/product-app-067/app/register/page.tsx"],"sourcesContent":["'use client'\r\nimport { useRouter } from 'next/navigation'\r\nimport { useState } from 'react'\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter()\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [role, setRole] = useState<'user' | 'admin'>('user')\r\n  const [error, setError] = useState('')\r\n\r\n  const onSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    setError('')\r\n    const res = await fetch('/api/register', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ username, password, role }),\r\n    })\r\n    if (res.ok) router.push('/login')\r\n    else {\r\n      const data = await res.json()\r\n      setError(data.error || 'สมัครไม่สำเร็จ')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-sm mx-auto p-6\">\r\n      <h1 className=\"text-xl font-bold mb-4\">สมัครสมาชิก</h1>\r\n      <form onSubmit={onSubmit} className=\"space-y-3\">\r\n        <input\r\n          className=\"w-full border p-2 rounded\"\r\n          placeholder=\"Username\"\r\n          value={username}\r\n          onChange={e => setUsername(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          className=\"w-full border p-2 rounded\"\r\n          placeholder=\"Password\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={e => setPassword(e.target.value)}\r\n          required\r\n        />\r\n\r\n        {/* เลือก Role */}\r\n        <select\r\n          className=\"w-full border p-2 rounded\"\r\n          value={role}\r\n          onChange={e => setRole(e.target.value as 'user' | 'admin')}\r\n        >\r\n          <option value=\"user\">User</option>\r\n          <option value=\"admin\">Admin</option>\r\n        </select>\r\n\r\n        {error && <p className=\"text-red-600 text-sm\">{error}</p>}\r\n        <button className=\"bg-blue-600 text-white px-4 py-2 rounded\">สมัคร</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;;AAIe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAoB;IACnD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,WAAW,OAAO;QACtB,EAAE,cAAc;QAChB,SAAS;QACT,MAAM,MAAM,MAAM,MAAM,iBAAiB;YACvC,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAU;gBAAU;YAAK;QAClD;QACA,IAAI,IAAI,EAAE,EAAE,OAAO,IAAI,CAAC;aACnB;YACH,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,SAAS,KAAK,KAAK,IAAI;QACzB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,8OAAC;gBAAK,UAAU;gBAAU,WAAU;;kCAClC,8OAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;wBACzC,QAAQ;;;;;;kCAEV,8OAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,MAAK;wBACL,OAAO;wBACP,UAAU,CAAA,IAAK,YAAY,EAAE,MAAM,CAAC,KAAK;wBACzC,QAAQ;;;;;;kCAIV,8OAAC;wBACC,WAAU;wBACV,OAAO;wBACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;;0CAErC,8OAAC;gCAAO,OAAM;0CAAO;;;;;;0CACrB,8OAAC;gCAAO,OAAM;0CAAQ;;;;;;;;;;;;oBAGvB,uBAAS,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCAC/C,8OAAC;wBAAO,WAAU;kCAA2C;;;;;;;;;;;;;;;;;;AAIrE","debugId":null}}]
}